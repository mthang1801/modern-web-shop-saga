(this["webpackJsonpmodern-web-shop"]=this["webpackJsonpmodern-web-shop"]||[]).push([[7],{119:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(15),i=t(8),o=t.n(i),u=t(1),l=t(16),s=t(37),f=t(26),d=function(n){return{type:s.a.FETCH_ORDERED_LIST_SUCCESS,payload:n}},m=function(n){return{type:s.a.FETCH_ORDERED_LIST_FAIL,payload:n.message}},b=t(7),p=t(25),v=t(3),O=t(4);function h(){var n=Object(v.a)(["\n  width : 85%;\n  margin : auto ;   \n"]);return h=function(){return n},n}var j=O.c.div(h()),E=function(n){return n.ordered},g=Object(b.a)(E,(function(n){return n.orderedList})),w=Object(b.a)(E,(function(n){return n.loading}));function y(){var n=Object(v.a)(["\n  font-size : 1.3em;  \n  margin : auto;\n"]);return y=function(){return n},n}function x(){var n=Object(v.a)(["\n  font-size : 2em;\n  margin : 1rem auto 2rem auto;\n"]);return x=function(){return n},n}function k(){var n=Object(v.a)(["\n  width : 100%;\n  display : flex ; \n  flex-direction : column;\n"]);return k=function(){return n},n}var L=O.c.div(k()),S=O.c.h2(x()),D=O.c.h3(y()),_=t(117),T=t(87);function C(){var n=Object(v.a)(["\n  display : flex  ;\n  flex-direction: column;    \n  display : block;\n"]);return C=function(){return n},n}function I(){var n=Object(v.a)(["\n  color : #1a237e;\n  display : flex ; \n  align-items : center;  \n  font-size : .95em; \n  cursor : pointer  ;\n  &:hover { \n    color : #3949ab;\n  }\n"]);return I=function(){return n},n}function R(){var n=Object(v.a)(["\n\n"]);return R=function(){return n},n}function H(){var n=Object(v.a)(["\n  flex  : 1 ;\n"]);return H=function(){return n},n}function z(){var n=Object(v.a)(["\n  display : flex ; \n  justify-content : space-between ;\n  font-size : 1em;\n  font-weight : bold ;\n  margin-bottom : .5rem;\n"]);return z=function(){return n},n}function A(){var n=Object(v.a)(["\n  width : 100%; \n  border : 1px solid #ccc ; \n  padding : 1rem 2rem;\n  border-radius : 10px ; \n  margin-bottom : 2rem;\n"]);return A=function(){return n},n}var F=O.c.div(A()),U=O.c.div(z()),J=O.c.div(H()),N=O.c.div(R()),$=O.c.span(I()),q=O.c.div(C());function P(){var n=Object(v.a)([""]);return P=function(){return n},n}function W(){var n=Object(v.a)(["\n  flex : 1 ;\n"]);return W=function(){return n},n}function B(){var n=Object(v.a)(["\n  width : 90%; \n  max-width : 500px;\n  display : flex ;\n"]);return B=function(){return n},n}var G=O.c.div(B()),K=O.c.div(W()),M=O.c.div(P()),Q=t(123),V=(t(98),function(n){var e=n.name,t=n.price,r=n.quantity,c=n.show,i=n.timeout;return console.log(c,i),a.a.createElement(Q.a,{in:c,timeout:i,unmountOnExit:!0,classNames:"alert"},a.a.createElement(G,null,a.a.createElement(K,null,e),a.a.createElement(M,null,"$",t*r)))}),X=function(n){var e=n.cartItems,t=(n.user,n.createdAt),c=n.totalPrice;console.log(e);var i=Object(r.useState)(!1),o=Object(_.a)(i,2),u=o[0],l=o[1];return a.a.createElement(F,null,a.a.createElement(U,null,a.a.createElement(J,null,new Date(1e3*t.seconds).toLocaleDateString()),a.a.createElement(N,null,"$",c)),a.a.createElement($,{onClick:function(){return l(!u)}},"Ordered Items Detail"," ",a.a.createElement(T.c,{style:{fontWeight:"bold"}})),a.a.createElement(q,{show:u},e.map((function(n,e){return a.a.createElement(V,Object.assign({key:n.id},n,{timeout:250,show:u}))}))))},Y=Object(b.b)({orderedList:g}),Z=Object(c.b)(Y)((function(n){var e=n.orderedList;return console.log(e),a.a.createElement(L,null,a.a.createElement(S,null,"History of Orders"),e.length?e.map((function(n){return a.a.createElement(X,Object.assign({key:n.id},n))})):a.a.createElement(D,null,"No History of Orders"))})),nn=t(85),en=Object(b.b)({isLoading:w}),tn=Object(c.b)(en)(Object(nn.a)(Z)),rn=t(6),an=Object(b.b)({currentUser:p.a});e.default=Object(c.b)(an,(function(n){return{fetchOrderedList:function(){return n(function(){var n=Object(l.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{e({type:s.a.FETCH_ORDERED_LIST_START}),f.b.onAuthStateChanged(function(){var n=Object(l.a)(o.a.mark((function n(t){var r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,f.e.collection("ordered").where("userId","==",t.uid).get();case 3:r=n.sent,a=r.docs.map((function(n){return Object(u.a)({id:n.id},n.data())})),e(d(a));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}catch(t){e(m(t.message))}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}}))((function(n){var e=n.fetchOrderedList,t=n.currentUser,c=n.match;return Object(r.useEffect)((function(){e()}),[e]),t?a.a.createElement(j,null,a.a.createElement(tn,null)):a.a.createElement(rn.a,{to:{pathname:"auth/signin",state:{from:c.path}}})}))},85:function(n,e,t){"use strict";var r=t(32),a=t(0),c=t.n(a),i=t(3),o=t(4);function u(){var n=Object(i.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]);return u=function(){return n},n}function l(){var n=Object(i.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return l=function(){return n},n}var s=o.c.div(l()),f=o.c.div(u());e.a=function(n){return function(e){var t=e.isLoading,a=Object(r.a)(e,["isLoading"]);return t?c.a.createElement(s,null,c.a.createElement(f,null)):c.a.createElement(n,a)}}},98:function(n,e,t){}}]);
//# sourceMappingURL=7.1a6e2ad8.chunk.js.map